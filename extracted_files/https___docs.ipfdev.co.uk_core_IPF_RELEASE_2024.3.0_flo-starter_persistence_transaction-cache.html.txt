=== URL: https://docs.ipfdev.co.uk/core/IPF_RELEASE_2024.3.0/flo-starter/persistence/transaction-cache.html ===
Transaction Cache Data Model
Collection List
TransactionCacheEntry
Stores any caching entries that have been saved via the
PersistentTransactionCacheService
. For more information on transaction caching please see
Transaction Caching
.
Overview Diagram
Below is a diagram showing the transactionCacheEntry collection in its entirety:
Collection Overview
TransactionCacheEntry
Fields
Below are the fields for the transactionCacheEntry collection:
Field
Description
Example
_id
PK - Autogenerated by MongoDB
63e0d35dcbd3c015141aad53
messageId
A unique Id to identity duplicate cache entries, specifically across retries, provided by the implementation.
6450d813d5f96f0337393091
hash
A MD5 hash generated by the implementation specific extractor function fields. Used for identifying a unique record.
60c8340cd0c9e74afa3688a00aa15cb6
creationDate
The date the cache record was created.
2023-05-02T09:29:55.124Z
type
The application specific enum type you want to store the cached data against. Used to identity different types of transactions or objects.
PACS_008
content
An object which contains the actual content you want to store in the cache.
{"_id" : "a0dc5cd2-9fb8-4e1a-88cf-f836e9b4d02c", "payload" : "Some payload", "_class" : "com.iconsolutions.ipf.test.app.config.TestConfig$InputRequest"}
Example Record
{
    "_id" : "644be8e6639eb650c73d1c9b",
    "hash" : "f97b41223f1597f73915f5a1cf2ca1e7",
    "creationDate" : "2023-04-28T15:40:22.391Z",
    "type" : "TYPE_ONE",
    "content" : {
        "_id" : "4b8f58d8-b33f-472c-94f0-d263b2115b92",
        "payload" : "Test",
        "_class" : "com.iconsolutions.ipf.test.test.app.config.TestConfig$InputRequest"
    },
    "_class" : "com.iconsolutions.ipf.core.platform.txcache.model.TransactionCacheEntry"
}
Indexes
Below are the indexes for the transactionCacheEntry collection:
Index Name
Fields
Description
_id_
_id (ascending)
ObjectId field generated by MongoDB.
findByTypeAndHashIndex
hash (ascending) - type (ascending)
Used when searching records.
findByTypeAndHashAndMessageIdIndex
hash (ascending) - type (ascending) - messageId (ascending)
Used when searching for records along with a messageId, for uniqueness.
Mongo Offset Data Model
How to handle schema evolution in IPF events
